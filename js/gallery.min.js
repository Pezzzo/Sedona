"use strict";const modal=document.querySelector(".modal"),modalImg=document.querySelector(".modal-popup__img"),imgContainer=document.querySelector(".photo-gallery"),html=document.querySelector(".page"),closeModalButton=document.querySelector(".modal-popup__close-button"),imgContent=document.querySelectorAll(".photo-content__img"),disableScrolling=()=>{var l=window.scrollX,n=window.scrollY;window.onscroll=function(){window.scrollTo(o,e)}},enableScrolling=()=>{window.onscroll=function(){}},renderModalImg=o=>{const e=o.target.closest(".modal-popup__arrow-back");if(o.target.closest(".modal-popup__arrow-forward"))for(let o=0;o<imgContent.length;o++){if(o===imgContent.length-1)return;imgContent[o].src===modalImg.src&&(modalImg.src=imgContent[o+=1].src)}if(e)for(let o=1;o<imgContent.length;o++)imgContent[o].src===modalImg.src&&(modalImg.src=imgContent[o-=1].src)},openModalHandler=o=>{const e=o.target.closest("img");var l,n;e&&(modal.classList.add("shown"),html.classList.add("page--modal-open"),l=window.scrollX,n=window.scrollY,window.onscroll=function(){window.scrollTo(l,n)}),modalImg.src=e.src},closeModalMouseHandler=o=>{o.target.classList.contains("photo-content__img")||(modal.classList.remove("shown"),html.classList.remove("page--modal-open"),enableScrolling())},closeModalKeyHandler=o=>{"Esc"!==o.key&&"Escape"!==o.key||(o.preventDefault(),modal.classList.remove("shown"),html.classList.remove("page--modal-open"),enableScrolling())},popap=()=>{imgContainer.addEventListener("click",openModalHandler),closeModalButton.addEventListener("click",closeModalMouseHandler),window.addEventListener("keydown",closeModalKeyHandler),modal.addEventListener("click",renderModalImg)};imgContainer.addEventListener("click",openModalHandler),closeModalButton.addEventListener("click",closeModalMouseHandler),window.addEventListener("keydown",closeModalKeyHandler),modal.addEventListener("click",renderModalImg);